@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --bg-primary: #08090d;
  --bg-secondary: #10121a;
  --bg-tertiary: #191c29;

  --text-primary: #ffffff;
  --text-secondary: #9aa3c0;
  --text-muted: #7c84a5;

  --accent-purple: #a855f7;
  --accent-pink: #ec4899;
  --accent-blue: #3b82f6;
  --accent-cyan: #06b6d4;
  --accent-green: #10b981;
  --accent-yellow: #f59e0b;

  --gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  --gradient-secondary: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
  --gradient-tertiary: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);

  --radius-card: 24px;
  --radius-element: 14px;

  --shadow-sm: 0 4px 10px rgb(0 0 0 / 0.25);
  --shadow-md: 0 10px 30px rgb(0 0 0 / 0.35);
  --shadow-lg: 0 30px 60px rgb(0 0 0 / 0.45);
}

[data-theme="light"] {
  --bg-primary: #f8fafc;
  --bg-secondary: #ffffff;
  --bg-tertiary: #f1f5f9;

  --text-primary: #0f172a;
  --text-secondary: #475569;
  --text-muted: #6b7280;

  --accent-purple: #7c3aed;
  --accent-pink: #db2777;
  --accent-blue: #2563eb;
  --accent-cyan: #0891b2;
  --accent-green: #059669;
  --accent-yellow: #b45309;

  --gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  --gradient-secondary: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
  --gradient-tertiary: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);

  --radius-card: 18px;
  --radius-element: 10px;

  --shadow-sm: 0 6px 18px rgba(16, 24, 40, 0.06);
  --shadow-md: 0 12px 30px rgba(16, 24, 40, 0.08);
  --shadow-lg: 0 30px 60px rgba(16, 24, 40, 0.12);
}

* { box-sizing: border-box; margin: 0; padding: 0; }

html, body, #root {
  min-height: 100%;
  background: var(--bg-primary);
  font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
  color: var(--text-primary);
}

body { overflow-x: hidden; }

@keyframes spin { to { transform: rotate(360deg); } }

/* Layout */
.app-shell { min-height: 100vh; background: var(--bg-primary); position: relative; overflow: hidden; }
.app-bg-animation { position: fixed; inset: 0; overflow: hidden; pointer-events: none; z-index: 0; }
.app-bg-shape { position: absolute; border-radius: 50%; background: linear-gradient(135deg, rgba(104,87,255,0.12), transparent); animation: float 24s ease-in-out infinite; filter: blur(0px); }
.app-bg-shape:nth-child(1) { width: 420px; height: 420px; top: -150px; left: -120px; animation-delay: 0s; }
.app-bg-shape:nth-child(2) { width: 500px; height: 500px; bottom: -220px; right: -140px; animation-delay: 5s; }
.app-bg-shape:nth-child(3) { width: 320px; height: 320px; top: 20%; right: 15%; animation-delay: 10s; }
.app-bg-shape:nth-child(4) { width: 280px; height: 280px; bottom: 25%; left: 10%; animation-delay: 15s; }
@keyframes float { 0%,100% { transform: translateY(0) translateX(0) scale(1); opacity: 0.3 } 50% { transform: translateY(-30px) translateX(20px) scale(1.05); opacity: 0.5 } }

.app-main { position: relative; z-index: 1; display: flex; gap: 1.5rem; padding: 1.5rem; }

.app-sidebar {
  width: 235px;
  background: rgba(9,13,28,0.96);
  border: 1px solid rgba(148,163,184,0.18);
  border-radius: var(--radius-card);
  padding: 1.25rem 1.1rem;
  box-shadow: 0 25px 55px rgba(2,6,23,0.45);
  backdrop-filter: blur(20px);
  display:flex;
  flex-direction:column;
  gap:1rem;
  max-height: calc(100vh - 3rem);
  position: sticky;
  top: 1.5rem;
  overflow-y:auto;
  -webkit-overflow-scrolling: touch;
  color:#e2e8f0;
}
.app-sidebar::-webkit-scrollbar { width: 6px }
.app-sidebar::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.18); border-radius:999px }
@media (max-width:1024px) {
  .app-main { padding:1rem; gap:1rem; flex-direction:column; }
  .app-sidebar {
    width:100%;
    position:relative;
    top:0;
    max-height:none;
    border-radius: 1.5rem;
  }
}

.modal-backdrop { position:fixed; inset:0; background: rgba(0,0,0,0.6); display:flex; align-items:center; justify-content:center; padding:1rem; z-index:40 }
.modal-panel { width:min(520px,90vw); background:var(--bg-secondary); border:1px solid var(--bg-tertiary); border-radius:var(--radius-card); padding:2rem; box-shadow:var(--shadow-lg); position:relative }
.modal-close { position:absolute; top:1rem; right:1rem; background:transparent; border:none; color:var(--text-secondary); cursor:pointer; font-size:1.1rem }

.app-brand { display:flex; align-items:center; gap:.85rem }
.app-brand-icon { width:48px; height:48px; border-radius:14px; background:var(--gradient-primary); display:grid; place-items:center; font-size:1.2rem; color:#fff; box-shadow:var(--shadow-md) }
.app-brand-title { font-size:1.1rem; font-weight:600 }
.app-brand-subtitle { font-size:.82rem; color:var(--text-secondary) }

.app-nav { display:flex; flex-direction:column; gap:.45rem; flex:1 }
.app-nav-link {
  display:flex;
  align-items:center;
  justify-content:space-between;
  color:#cbd5f5;
  padding:.85rem 1rem;
  border-radius:var(--radius-element);
  transition:.2s;
  text-decoration:none;
  background:transparent;
  cursor:pointer;
  border:1px solid transparent;
  position:relative;
  min-height:48px;
  font-weight:500;
}
.app-nav-link-label { display:inline-flex; align-items:center; gap:.65rem; }
.app-nav-icon { width:1.25rem; text-align:center; color:inherit; opacity:.9; }
.app-nav-link:hover,
.app-nav-link:focus-visible { background: rgba(148,163,184,0.12); color:#fff; border-color:rgba(148,163,184,0.25); outline:none }
.app-nav-link.active {
  background: rgba(99,102,241,0.2);
  border-color: rgba(99,102,241,0.45);
  color:#fff;
  box-shadow: 0 18px 30px rgba(2,6,23,0.45);
}
.app-nav-link.active::before {
  content:'';
  position:absolute;
  left:-0.4rem;
  top:14%;
  bottom:14%;
  width:4px;
  border-radius:999px;
  background: linear-gradient(180deg, #a855f7, #3b82f6);
}
.app-nav-link.sub { font-size:.92rem; padding-left:1.25rem; }
.app-nav-link.has-children { border-color: rgba(148,163,184,0.08); }
.app-nav-chevron { margin-left:.5rem; display:inline-flex; align-items:center; color:inherit; opacity:.8; }
.app-submenu {
  display:flex;
  flex-direction:column;
  gap:.3rem;
  margin-left:0;
  padding-left:0;
  border-left:none;
}
@media (max-width:768px) {
  .app-nav { flex-direction:row; flex-wrap:wrap; }
  .app-nav-link { flex:1 1 calc(50% - .5rem); justify-content:flex-start; }
  .app-nav-link.active::before { left:0; }
}

.app-user-panel { padding-top:1rem; border-top:1px solid rgba(255,255,255,0.05) }
.app-user-card { display:flex; align-items:center; gap:.75rem; padding:.9rem; border-radius:var(--radius-element); background:rgba(255,255,255,0.03) }
.theme-toggle { display:inline-flex; align-items:center; gap:.5rem; padding:.45rem .7rem; font-size:.9rem; border-radius:999px; background:rgba(255,255,255,0.03); border:1px solid rgba(255,255,255,0.04); color:var(--text-secondary) }
[data-theme="light"] .theme-toggle { background: rgba(15,23,42,0.04); border:1px solid rgba(15,23,42,0.06); color:var(--text-secondary) }
.app-user-avatar { width:46px; height:46px; border-radius:50%; background:rgba(168,85,247,0.2); display:grid; place-items:center; font-weight:600 }
.app-role-badge { display:inline-flex; align-items:center; padding:.15rem .6rem; border-radius:999px; background:rgba(59,130,246,0.2); color:#bfdbfe; font-size:.75rem; text-transform:uppercase }

.app-content { flex:1; display:flex; flex-direction:column; gap:1.5rem }

/* Typography helpers */
.heading-xl { font-size:2.75rem; font-weight:800; letter-spacing:-.04em }
.heading-lg { font-size:2rem; font-weight:700; letter-spacing:-.03em }
.heading-md { font-size:1.4rem; font-weight:600 }
.text-muted { color:var(--text-secondary) }

/* Cards */
.card, .app-card { background: rgba(255,255,255,0.03); border:1px solid rgba(255,255,255,0.06); border-radius:var(--radius-card); padding:2rem; box-shadow:var(--shadow-md); backdrop-filter:blur(14px) }
.card-header, .app-card-header { display:flex; align-items:center; justify-content:space-between; gap:1rem; margin-bottom:1rem }
.card-title, .app-card-title { font-size:1.25rem; font-weight:600 }
.card-subtitle, .app-card-subtitle { font-size:.9rem; color:var(--text-secondary) }
.card-content, .app-card-content { margin-top:1rem }

.grid-2 { display:grid; gap:1rem; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)) }
.grid-3 { display:grid; gap:1rem; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)) }
.app-grid { display:grid; gap:1rem }
.app-grid.cols-2 { grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)) }
.app-grid.cols-3 { grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)) }

.card-stat { display:flex; justify-content:space-between; align-items:center; gap:.75rem; background:rgba(255,255,255,0.03); border-radius:var(--radius-card); padding:1.5rem; border:1px solid rgba(255,255,255,0.06); box-shadow:var(--shadow-sm) }

/* Pills */
.pill, .app-pill { display:inline-flex; align-items:center; gap:.4rem; padding:.4rem .85rem; border-radius:999px; background:rgba(255,255,255,0.04); color:var(--text-secondary); font-size:.85rem }

/* Buttons */
.btn { display:inline-flex; align-items:center; justify-content:center; padding:.85rem 1.4rem; font-weight:600; font-size:1rem; border-radius:var(--radius-element); border:none; cursor:pointer; transition:.2s; box-shadow:var(--shadow-sm) }
.btn:hover { transform:translateY(-2px); box-shadow:var(--shadow-lg) }
.btn:disabled { opacity:.6; cursor:not-allowed }
.btn-primary { background:var(--gradient-primary); color:#fff }
.btn-success { background: linear-gradient(135deg,#059669,#047857); color:#ecfdf3 }
.btn-warning { background: linear-gradient(135deg,#f59e0b,#d97706); color:#fff7ec }
.btn-danger { background: linear-gradient(135deg,#ef4444,#b91c1c); color:#ffe4e6 }
.btn-outline { background:transparent; border:1px solid rgba(255,255,255,0.2); color:var(--text-secondary) }
.btn-pill { border-radius:999px }
.btn-sm { padding:.4rem .75rem; font-size:.85rem }

/* Inputs */
.input, .app-form-control { width:100%; padding:1rem 1.25rem; border-radius:var(--radius-element); border:2px solid transparent; background:rgba(255,255,255,0.03); color:var(--text-primary); font-size:1rem; transition:.2s }
.input:focus, .app-form-control:focus { border-color: rgba(168,85,247,0.7); background: rgba(168,85,247,0.08); box-shadow: 0 0 0 3px rgba(168,85,247,0.15); outline:none }

/* Tables */
.table { width:100%; border-collapse:collapse; border-radius:var(--radius-card); overflow:hidden }
.table thead { background: rgba(255,255,255,0.03); text-transform:uppercase; font-size:.8rem; letter-spacing:.05em }
.table th, .table td { padding:.9rem 1rem; border-bottom:1px solid rgba(255,255,255,0.05) }
.table tr:hover td { background: rgba(255,255,255,0.02) }
.app-table { width:100%; border-collapse:collapse }

/* Utilities */
.spinner-page { width:52px; height:52px; border:4px solid rgba(255,255,255,0.1); border-top-color:var(--accent-purple); border-radius:50%; animation:spin 1s linear infinite }
.spinner-inline { width:20px; height:20px; border:3px solid rgba(255,255,255,0.2); border-top-color:#fff; border-radius:50%; animation:spin .9s linear infinite }
.fullscreen-center { min-height:60vh; display:flex; align-items:center; justify-content:center }

/* Page container */
.app-page {
  display: flex;
  flex-direction: column;
  gap: 1rem;
  width: 100%;
}
